# ğŸ— AuthApp Architecture & Flow Diagrams

## ğŸ“Š Application Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER BROWSER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  NEXT.JS FRONTEND (Client-Side)                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚ â”‚ Pages & Components                              â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ â”œâ”€ Home Page (/)                                â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ â”œâ”€ Sign Up (/auth/sign-up)                      â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ â”œâ”€ Sign In (/auth/sign-in)                      â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ â””â”€ Dashboard (/dashboard)                       â”‚   â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                         â†“                              â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚ â”‚ Supabase Browser Client                        â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ â”œâ”€ Authentication operations                    â”‚   â”‚   â”‚
â”‚  â”‚ â”‚ â””â”€ Session management                           â”‚   â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“â†‘                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  NEXT.JS MIDDLEWARE                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Check authentication status                      â”‚   â”‚
â”‚  â”‚  â”œâ”€ Protect /dashboard route                         â”‚   â”‚
â”‚  â”‚  â””â”€ Redirect based on auth state                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SUPABASE BACKEND (Server-Side)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Authentication Service                               â”‚    â”‚
â”‚ â”‚ â”œâ”€ Email/Password Auth                               â”‚    â”‚
â”‚ â”‚ â”œâ”€ Session Management                                â”‚    â”‚
â”‚ â”‚ â””â”€ User Management                                   â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                         â†“                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Database                                             â”‚    â”‚
â”‚ â”‚ â”œâ”€ auth.users (built-in)                             â”‚    â”‚
â”‚ â”‚ â””â”€ products (optional)                               â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Authentication Flow

```
USER                    CLIENT                  MIDDLEWARE           SUPABASE
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ Visit Home â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ Show Sign Up/In Links   â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ Click Sign Up â”€â”€â”€â”€â”€â”€â†’ â”‚ Display Registration    â”‚                    â”‚
 â”‚                       â”‚    Form                  â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ Enter Credentials â”€â”€â†’ â”‚ Validate Input          â”‚                    â”‚
 â”‚                       â”‚ â”œâ”€ Email format? âœ“       â”‚                    â”‚
 â”‚                       â”‚ â”œâ”€ Password length? âœ“    â”‚                    â”‚
 â”‚                       â”‚ â””â”€ Match confirmed? âœ“    â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”‚                       â”œâ”€ Send to Supabase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚
 â”‚                       â”‚                          â”‚              Create User
 â”‚                       â”‚                          â”‚                    â”‚
 â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Success
 â”‚                       â”‚                          â”‚                    â”‚
 â”‚                       â”‚ Set Session Cookie       â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ Click Sign In â”€â”€â”€â”€â”€â”€â†’ â”‚ Display Login Form       â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ Enter Credentials â”€â”€â†’ â”‚ Send to Supabase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚
 â”‚                       â”‚                          â”‚           Verify User
 â”‚                       â”‚                          â”‚                    â”‚
 â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Success
 â”‚                       â”‚                          â”‚                    â”‚
 â”‚                       â”‚ Set Session Cookie       â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ Access Dashboard â”€â”€â”€â†’ â”‚ Request /dashboard      â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”‚                       â”‚                 Check Session                 â”‚
 â”‚                       â”‚                 User Authenticated? âœ“         â”‚
 â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
 â”‚                       â”‚ Grant Access             â”‚                    â”‚
 â”‚                       â”‚ Show Dashboard           â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ View Products â”€â”€â”€â”€â”€â”€â†’ â”‚ Display Product Grid     â”‚                    â”‚
 â”‚                       â”‚ Load Mock Products       â”‚                    â”‚
 â”‚                       â”‚                          â”‚                    â”‚
 â”œâ”€ Click Sign Out â”€â”€â”€â”€â”€â†’ â”‚ Call logout() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚
 â”‚                       â”‚                          â”‚           Clear Session
 â”‚                       â”‚                          â”‚                    â”‚
 â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Success
 â”‚                       â”‚ Clear Session Cookie     â”‚                    â”‚
 â”‚                       â”‚ Redirect to Sign In      â”‚                    â”‚
```

---

## ğŸ›¡ Route Protection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Requests Route                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Middleware Intercepts â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Check Session                â”‚
        â”‚ Get Supabase User Session    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚                             â”‚
        User Found?                         No User?
                   â”‚                             â”‚
              YES  â”‚                             â”‚ NO
                   â†“                             â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Is /auth/* route?   â”‚     â”‚ Redirect to          â”‚
        â”‚                     â”‚     â”‚ /auth/sign-in        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                      â”‚
                 â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
      YES                NO
        â”‚                 â”‚
        â†“                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Redirect â”‚    â”‚ Grant Access   â”‚
    â”‚ to       â”‚    â”‚ Show Page      â”‚
    â”‚ Dashboardâ”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± User Journey Map

```
ENTRY POINT
    â”‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Visit Home (/)     â”‚  â† Unauthenticated User
â”‚                     â”‚
â”‚ â€¢ See Features      â”‚
â”‚ â€¢ See Products Info â”‚
â”‚ â€¢ CTA Buttons       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚          â”‚
    â†“          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sign Up  â”‚ â”‚ Sign In  â”‚
â”‚   Form   â”‚ â”‚   Form   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚
     â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚    â”‚
     â†“    â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Create/Login       â”‚
  â”‚ Session Created    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Dashboard (/)       â”‚  â† Authenticated User
  â”‚                      â”‚
  â”‚ â€¢ User Email         â”‚
  â”‚ â€¢ Product Grid (3col)â”‚
  â”‚ â€¢ 6 Products         â”‚
  â”‚ â€¢ Statistics         â”‚
  â”‚ â€¢ Sign Out Button    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Click Sign Out       â”‚
  â”‚ Session Cleared      â”‚
  â”‚ Redirect to Sign In  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Back to Home (/)    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ— Component Hierarchy

```
RootLayout
â”œâ”€â”€ App Router
â”‚   â”œâ”€â”€ Home Page (/)
â”‚   â”‚   â”œâ”€â”€ Navigation
â”‚   â”‚   â”‚   â”œâ”€â”€ Logo
â”‚   â”‚   â”‚   â””â”€â”€ Auth Links
â”‚   â”‚   â”œâ”€â”€ Hero Section
â”‚   â”‚   â”œâ”€â”€ Features Grid
â”‚   â”‚   â”‚   â””â”€â”€ Feature Card (Ã—3)
â”‚   â”‚   â”œâ”€â”€ Product Preview
â”‚   â”‚   â””â”€â”€ Footer
â”‚   â”‚
â”‚   â”œâ”€â”€ Auth Routes (/auth/*)
â”‚   â”‚   â””â”€â”€ AuthLayout
â”‚   â”‚       â”œâ”€â”€ SignUpPage
â”‚   â”‚       â”‚   â”œâ”€â”€ Card
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ CardHeader
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ CardBody
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Form
â”‚   â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input (email)
â”‚   â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input (password)
â”‚   â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input (confirm)
â”‚   â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Button (submit)
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Alert (error/success)
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Link (to sign-in)
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ CardFooter
â”‚   â”‚       â”‚   â””â”€â”€ ...
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ SignInPage
â”‚   â”‚           â”œâ”€â”€ Card
â”‚   â”‚           â”‚   â”œâ”€â”€ CardHeader
â”‚   â”‚           â”‚   â”œâ”€â”€ CardBody
â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ Form
â”‚   â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ Input (email)
â”‚   â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ Input (password)
â”‚   â”‚           â”‚   â”‚   â”‚   â””â”€â”€ Button (submit)
â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ Alert (error/success)
â”‚   â”‚           â”‚   â”‚   â””â”€â”€ Link (to sign-up)
â”‚   â”‚           â”‚   â””â”€â”€ CardFooter
â”‚   â”‚           â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ Dashboard Routes (/dashboard)
â”‚       â””â”€â”€ DashboardLayout
â”‚           â””â”€â”€ DashboardPage
â”‚               â”œâ”€â”€ Header
â”‚               â”‚   â”œâ”€â”€ Title
â”‚               â”‚   â”œâ”€â”€ User Email
â”‚               â”‚   â””â”€â”€ Sign Out Button
â”‚               â”œâ”€â”€ ProductGrid
â”‚               â”‚   â””â”€â”€ ProductCard (Ã—6)
â”‚               â”‚       â”œâ”€â”€ Image
â”‚               â”‚       â”œâ”€â”€ ProductInfo
â”‚               â”‚       â”‚   â”œâ”€â”€ Name
â”‚               â”‚       â”‚   â”œâ”€â”€ Description
â”‚               â”‚       â”‚   â””â”€â”€ Price
â”‚               â”‚       â””â”€â”€ ...
â”‚               â””â”€â”€ StatsSection
â”‚                   â””â”€â”€ Card (Ã—3)
â”‚                       â”œâ”€â”€ StatLabel
â”‚                       â””â”€â”€ StatValue
â”‚
â””â”€â”€ Global Styles (globals.css)
    â”œâ”€â”€ Tailwind CSS
    â”œâ”€â”€ Global Utilities
    â”œâ”€â”€ Accessibility Features
    â””â”€â”€ Dark Mode Support
```

---

## ğŸ“Š Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Interaction (Browser)          â”‚
â”‚ â”œâ”€ Click Button                     â”‚
â”‚ â”œâ”€ Submit Form                      â”‚
â”‚ â””â”€ Navigate Route                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React Component (Client-Side)       â”‚
â”‚ â”œâ”€ Handle Event                     â”‚
â”‚ â”œâ”€ Update State                     â”‚
â”‚ â””â”€ Validate Input (validation.ts)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€ Valid?
              â”œâ”€ YES â†“
              â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚      â”‚ Supabase Browser Client  â”‚
              â”‚      â”‚ (lib/supabase/client.ts) â”‚
              â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                   â”‚
              â”‚                   â†“
              â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚      â”‚ Supabase Auth API        â”‚
              â”‚      â”‚ (Backend)                â”‚
              â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                   â”‚
              â”‚                   â†“
              â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚      â”‚ Database Operations      â”‚
              â”‚      â”‚ â”œâ”€ Verify User           â”‚
              â”‚      â”‚ â”œâ”€ Create User           â”‚
              â”‚      â”‚ â””â”€ Manage Sessions       â”‚
              â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                   â”‚
              â”‚                   â†“
              â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚      â”‚ Return Response          â”‚
              â”‚      â”‚ â”œâ”€ Success Object        â”‚
              â”‚      â”‚ â””â”€ Error Details         â”‚
              â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                   â”‚
              â†“                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update Component State              â”‚
â”‚ â”œâ”€ Store Session                    â”‚
â”‚ â”œâ”€ Update UI                        â”‚
â”‚ â””â”€ Redirect if needed               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Middleware Check (On Route Change)  â”‚
â”‚ â””â”€ Verify Session Still Valid       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Component State Management

```
Sign Up Form Component
â”‚
â”œâ”€ Local State
â”‚  â”œâ”€ email: string
â”‚  â”œâ”€ password: string
â”‚  â”œâ”€ confirmPassword: string
â”‚  â”œâ”€ isLoading: boolean
â”‚  â”œâ”€ error: string | null
â”‚  â”œâ”€ success: boolean
â”‚  â””â”€ validationError: Record<string, string>
â”‚
â”œâ”€ Event Handlers
â”‚  â”œâ”€ handleChange (input updates)
â”‚  â”œâ”€ validateForm (client-side)
â”‚  â””â”€ handleSignUp (submission)
â”‚
â”œâ”€ Validation Flow
â”‚  â”œâ”€ validateEmail()
â”‚  â”œâ”€ validatePassword()
â”‚  â””â”€ validatePasswordMatch()
â”‚
â””â”€ Side Effects
   â”œâ”€ Call Supabase signUp()
   â”œâ”€ Handle success â†’ Show message
   â”œâ”€ Handle error â†’ Show error
   â””â”€ Redirect on success
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ENVIRONMENT VARIABLES                    â”‚
â”‚                                          â”‚
â”‚ .env.local (Local Development)           â”‚
â”‚ â”œâ”€ NEXT_PUBLIC_SUPABASE_URL             â”‚
â”‚ â””â”€ NEXT_PUBLIC_SUPABASE_ANON_KEY        â”‚
â”‚                                          â”‚
â”‚ Validation (env.ts with Zod)             â”‚
â”‚ â”œâ”€ Check URL is valid                    â”‚
â”‚ â”œâ”€ Check key is provided                 â”‚
â”‚ â””â”€ Throw error if invalid                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MIDDLEWARE SECURITY                      â”‚
â”‚                                          â”‚
â”‚ Check Authentication Status              â”‚
â”‚ â”œâ”€ Read Supabase session                 â”‚
â”‚ â”œâ”€ Verify user is logged in              â”‚
â”‚ â””â”€ Enforce route access                  â”‚
â”‚                                          â”‚
â”‚ Route Protection                         â”‚
â”‚ â”œâ”€ /dashboard â†’ Authenticated only       â”‚
â”‚ â”œâ”€ /auth/* â†’ Redirect if authenticated   â”‚
â”‚ â””â”€ Others â†’ Public access                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SUPABASE SECURITY                        â”‚
â”‚                                          â”‚
â”‚ Session Management                       â”‚
â”‚ â”œâ”€ HTTP-Only Cookies                     â”‚
â”‚ â”œâ”€ Secure Flag                           â”‚
â”‚ â””â”€ SameSite Protection                   â”‚
â”‚                                          â”‚
â”‚ Authentication                           â”‚
â”‚ â”œâ”€ Bcrypt Password Hashing               â”‚
â”‚ â”œâ”€ JWT Tokens                            â”‚
â”‚ â””â”€ Email Verification (optional)         â”‚
â”‚                                          â”‚
â”‚ Database                                 â”‚
â”‚ â”œâ”€ Row-Level Security (RLS)              â”‚
â”‚ â”œâ”€ User Isolation                        â”‚
â”‚ â””â”€ Encrypted Passwords                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Testing & Validation Flows

```
FORM SUBMISSION
â”‚
â”œâ”€ Frontend Validation (validation.ts)
â”‚  â”œâ”€ Email format check
â”‚  â”œâ”€ Password length check
â”‚  â”œâ”€ Password matching check
â”‚  â””â”€ Return errors or proceed
â”‚
â””â”€ Backend Validation (Supabase)
   â”œâ”€ User existence check
   â”œâ”€ Password hash verification
   â”œâ”€ Email uniqueness check
   â””â”€ Return success or error
```

---

## ğŸ“ˆ Scaling Considerations

```
Current Architecture (Single User App)
â”‚
â”œâ”€ Mock Products (Local Data)
â”‚  â””â”€ Easy to replace with DB query
â”‚
â”œâ”€ Client-Side Validation
â”‚  â””â”€ Complements server-side checks
â”‚
â””â”€ Middleware Session Check
   â””â”€ Scales with Supabase auth

Future Enhancements
â”‚
â”œâ”€ Real Product Database
â”‚  â”œâ”€ Replace mockProducts.ts
â”‚  â”œâ”€ Add database queries
â”‚  â””â”€ Implement pagination
â”‚
â”œâ”€ Server-Side Components
â”‚  â”œâ”€ Fetch data on server
â”‚  â”œâ”€ Reduce client JS
â”‚  â””â”€ Improve performance
â”‚
â””â”€ Advanced Features
   â”œâ”€ User Profiles
   â”œâ”€ Order History
   â”œâ”€ Wishlist
   â””â”€ Admin Dashboard
```

---

**Architecture Last Updated**: January 16, 2026
**Status**: Production-Ready âœ…
